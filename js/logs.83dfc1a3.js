(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["logs"],{"2ab4":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-row",t._l(t.counts[t.getScreenSize],(function(e){return a("v-col",{key:e,attrs:{sm:"6",xs:"12",md:"4",lg:"4",cols:"12"}},[a("v-card",{attrs:{tile:""}},[a("v-card-text",[a("v-skeleton-loader",{attrs:{height:t.cardHeight-t.offset,tile:"",type:t.loaderType}})],1)],1)],1)})),1)],1)],1)},i=[],n=a("5530"),o=a("a6f4"),r=a("4360"),l={props:{cardHeight:{type:String,default:"186"},loaderType:{type:String,default:"table-cell,paragraph,text,text"}},setup:function(){var t=34;return Object(n["a"])(Object(n["a"])({},Object(o["g"])(r["a"].app)),{},{offset:t,counts:{sm:4,xs:2,md:6,lg:6,xl:6}})}},c=l,u=a("2877"),d=a("6544"),m=a.n(d),p=a("b0af"),b=a("99d9"),v=a("62ad"),g=a("a523"),h=a("0fd9"),f=a("3129"),y=Object(u["a"])(c,s,i,!1,null,null,null);e["a"]=y.exports;m()(y,{VCard:p["a"],VCardText:b["b"],VCol:v["a"],VContainer:g["a"],VRow:h["a"],VSkeletonLoader:f["a"]})},"3a2f":function(t,e,a){"use strict";a("a9e3");var s=a("ade3"),i=(a("9734"),a("4ad4")),n=a("a9ad"),o=a("16b7"),r=a("b848"),l=a("75eb"),c=a("f573"),u=a("f2e7"),d=a("80d2"),m=a("d9bd"),p=a("58df");e["a"]=Object(p["a"])(n["a"],o["a"],r["a"],l["a"],c["a"],u["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,a=t.content,s=!this.bottom&&!this.left&&!this.top&&!this.right,i=!1!==this.attach?e.offsetLeft:e.left,n=0;return this.top||this.bottom||s?n=i+e.width/2-a.width/2:(this.left||this.right)&&(n=i+(this.right?e.width:-a.width)+(this.right?10:-10)),this.nudgeLeft&&(n-=parseInt(this.nudgeLeft)),this.nudgeRight&&(n+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(n,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,a=t.content,s=!1!==this.attach?e.offsetTop:e.top,i=0;return this.top||this.bottom?i=s+(this.bottom?e.height:-a.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=s+e.height/2-a.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(i+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(d["g"])(this.maxWidth),minWidth:Object(d["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(d["t"])(this,"activator",!0)&&Object(m["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=i["a"].options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===d["y"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(s["a"])(t,this.contentClass,!0),Object(s["a"])(t,"menuable__content__active",this.isActive),Object(s["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},"7acd":function(t,e,a){},"932c":function(t,e,a){"use strict";a("7acd")},9734:function(t,e,a){},bbae:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"logs",staticStyle:{height:"100%"}},[a("LogsFilters"),t.isLargeLoading?a("v-progress-linear",{attrs:{indeterminate:""}}):t._e(),t.noRecordsFound?a("v-container",{staticClass:"text-center py-10"},[t._v(" No logs found. ")]):t._e(),a("div",{directives:[{name:"bar",rawName:"v-bar"}],ref:"scrollable",staticClass:"books-listing-parent pb-8"},[a("div",[a("v-container",{class:[t.isEmpty?"d-none":"",t.loadedAll?"":"pull-up-margin"]},[a("v-row",t._l(t.data,(function(t){return a("LogCard",{key:t._id,attrs:{log:t,sm:"6",xs:"12",md:"4",lg:"4",cols:"12"}})})),1)],1),t.loadedAll?t._e():a("SkeltonLoader",{attrs:{cardHeight:"142",loaderType:"table-cell,paragraph,text"}})],1)])],1)},i=[],n=a("6211"),o=a("da9d"),r=a("2ab4"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{sm:t.sm,xs:t.xs,md:t.md,lg:t.lg,cols:t.cols}},[a("v-tooltip",{attrs:{top:"","max-width":"250","nudge-top":"-15",transition:"fade-transition","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-card",t._g(t._b({staticClass:"log-card",attrs:{tile:""}},"v-card",i,!1),s),[a("v-card-text",[a("div",{staticClass:"text--primary force-single-line"},[t._v(" Book: #"+t._s(t.log.book.bookNumber)+", "+t._s(t.log.book.name)+" ")]),t.log.member?a("div",{staticClass:"text--primary force-single-line"},[t._v(" Member: #"+t._s(t.log.member.memberNumber)+", "+t._s(t.log.member.name)+" ")]):a("div",{staticClass:"text--primary force-single-line"},[t._v(" Sub Library: "+t._s(t.log.subLibrary.name)+" ")]),a("div",{staticClass:"text--primary force-single-line"},[t._v(" Distribution Type: "+t._s(t.distributionType)+" ")]),a("div",{staticClass:"text--primary force-single-line"},[t._v(" "+t._s(t.distributionLabels.out)+" on "),t.log.outDateTime?a("span",[t._v(t._s(t._f("formatDateTime")(t.log.outDateTime)))]):a("span",[t._v(t._s(t._f("formatDate")(t.log.outDate)))])]),a("div",{class:[t.log.inDate?"text--primary":"warning--text","force-single-line"]},[t.log.inDateTime?a("span",[t._v(" "+t._s(t.distributionLabels.in)+" on "+t._s(t._f("formatDateTime")(t.log.inDateTime))+" ")]):t.log.inDate?a("span",[t._v(" "+t._s(t.distributionLabels.in)+" on "+t._s(t._f("formatDate")(t.log.inDate))+" ")]):a("span",[t._v("Not yet returned")])])])],1)]}}])},[t._v(" #"+t._s(t.log.book.bookNumber)+", "+t._s(t.log.book.name)+" distributed to "),t.log.member?[t._v(" #"+t._s(t.log.member.memberNumber)+", "+t._s(t.log.member.name)+" ")]:[t._v(" a sub library named "+t._s(t.log.subLibrary.name)+" ")]],2)],1)},c=[],u=(a("caad"),a("ce96")),d=a("a6f4"),m={props:["lg","md","sm","xs","cols","log"],setup:function(t){var e=Object(d["a"])((function(){var e;return u["a"].string.pascalCase((null===(e=t.log)||void 0===e?void 0:e.type)||"General")})),a=Object(d["a"])((function(){var e,a=["reference","e-reader"].includes(null===(e=t.log)||void 0===e?void 0:e.type);return{out:a?"Check-In":"Distributed",in:a?"Check-Out":"Returned"}}));return{distributionLabels:a,distributionType:e}}},p=m,b=(a("932c"),a("2877")),v=a("6544"),g=a.n(v),h=a("b0af"),f=a("99d9"),y=a("62ad"),x=a("3a2f"),_=Object(b["a"])(p,l,c,!1,null,"1fbe2c2a",null),L=_.exports;g()(_,{VCard:h["a"],VCardText:f["b"],VCol:y["a"],VTooltip:x["a"]});var C={setup:n["h"],components:{LogsFilters:o["a"],SkeltonLoader:r["a"],LogCard:L}},k=C,T=a("a523"),D=a("8e36"),S=a("0fd9"),O=Object(b["a"])(k,s,i,!1,null,null,null);e["default"]=O.exports;g()(O,{VContainer:T["a"],VProgressLinear:D["a"],VRow:S["a"]})},da9d:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isReportFilter?t._e():a("v-btn",{staticClass:"search-bar-toggle d-md-none",on:{click:function(e){return t.toggleFilterOnXs()}}},[a("v-icon",[t._v("mdi-dots-horizontal")])],1),a("v-sheet",{class:[!t.isReportFilter&&"logs-filters-parent",!t.isReportFilter&&t.showFilterOnXs&&"show",t.isReportFilter&&"pt-10 in-report-filter",t.showFilterOnXs?"show":""],attrs:{outlined:""}},[t.isReportFilter?t._e():a("div",{class:["px-6 pt-2 d-flex justify-end align-center"],staticStyle:{height:"30px"}},[t.isSubLibrary?t._e():a("v-checkbox",{staticClass:"mt-3 mr-2",attrs:{dense:"",label:"Distributions to Sub Library"},model:{value:t.subLibraryLogs,callback:function(e){t.subLibraryLogs=e},expression:"subLibraryLogs"}}),a("v-btn",{staticClass:"ml-2",attrs:{tile:"","x-small":""},on:{click:function(e){return t.resetFilter()}}},[t._v("Reset")]),a("v-btn",{staticClass:"ml-2 d-md-none",attrs:{tile:"","x-small":""},on:{click:function(e){return t.toggleFilterOnXs()}}},[t._v(" Hide ")])],1),a("div",{class:["d-flex","align-center"]},[a("v-row",{staticClass:"mx-0 px-4"},[a("v-col",{staticClass:"px-0 py-0",attrs:{xl:t.subLibraryLogs?8:4,md:t.subLibraryLogs?8:4,sm:"12",cols:"12"}},[t.subLibraryLogs?a("vc-data-autocomplete",{staticClass:"mx-2",attrs:{api:"/subLibraries",dense:"","item-text":"name","item-value":"_id",label:"Sub Library",clearable:""},model:{value:t.subLibrary,callback:function(e){t.subLibrary=e},expression:"subLibrary"}}):a("v-autocomplete",{staticClass:"mx-2",attrs:{clearable:"",items:t.membersData,loading:t.isMemberLoading,"search-input":t.memberSearchKey,filter:t.filterMembers,"item-text":"name","item-value":"_id",label:"Member",dense:""},on:{"update:searchInput":function(e){t.memberSearchKey=e},"update:search-input":function(e){t.memberSearchKey=e}},scopedSlots:t._u([{key:"item",fn:function(e){return[a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:t._s("# "+e.item.memberNumber+" "+e.item.name)}})],1)]}}],null,!1,3979555647),model:{value:t.member,callback:function(e){t.member=e},expression:"member"}})],1),t.subLibraryLogs?t._e():a("v-col",{staticClass:"px-0 py-0 my-0",attrs:{xl:"4",md:"4",sm:"12",cols:"12"}},[a("v-select",{staticClass:"mx-2",attrs:{dense:"",clearable:"",items:["General","Balavedhi","Reference","E-Reader"],label:"Distribution Type"},model:{value:t.distributionType,callback:function(e){t.distributionType=e},expression:"distributionType"}})],1),a("v-col",{staticClass:"px-0 py-0 my-0",attrs:{xl:"4",md:"4",sm:"12",cols:"12"}},[a("v-select",{staticClass:"mx-2",attrs:{dense:"",items:t.searchByStock,"item-text":"name","item-value":"_id",label:"Status"},model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1)],1)],1),a("div",{class:["d-flex","align-center"]},[a("v-row",{staticClass:"mx-0 px-4"},[a("v-col",{staticClass:"px-0 py-0 my-0 date-type",attrs:{xl:"4",md:"4",sm:"12",cols:"12"}},[a("v-select",{staticClass:"mx-2",attrs:{dense:"",items:t.dateTypes,"item-text":"name","item-value":"_id",label:"Date type"},model:{value:t.dateType,callback:function(e){t.dateType=e},expression:"dateType"}})],1),a("v-col",{staticClass:"px-0 py-0 my-0 date-selector",attrs:{xl:t.isSubLibrary?4:2,md:t.isSubLibrary?4:2,sm:"12",cols:"12"}},["month"===t.dateType?a("v-menu",{ref:"monthMenu",attrs:{"close-on-content-click":!1,"return-value":t.logMonth,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.logMonth=e},"update:return-value":function(e){t.logMonth=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"mx-2",attrs:{hint:"Select a date range",dense:"",label:"Log month",readonly:"","append-icon":"mdi-calendar-range"},model:{value:t.logMonthText,callback:function(e){t.logMonthText=e},expression:"logMonthText"}},"v-text-field",i,!1),s))]}}],null,!1,742605925),model:{value:t.monthMenu,callback:function(e){t.monthMenu=e},expression:"monthMenu"}},[a("v-date-picker",{attrs:{max:t.logFilterCurrentDate,"no-title":"",reactive:!0,range:"date_range"===t.dateType,type:"month",scrollable:""},model:{value:t.logMonth,callback:function(e){t.logMonth=e},expression:"logMonth"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.monthMenu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.monthMenu.save(t.logMonth)}}},[t._v(" OK ")])],1)],1):a("span",[a("v-menu",{ref:"rangeMenu",attrs:{"close-on-content-click":!1,"return-value":t.logDates,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.logDates=e},"update:return-value":function(e){t.logDates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"mx-2",attrs:{hint:"Select a date range",dense:"",label:"Log date",readonly:"","append-icon":t.logDateRangeText&&t.logDateRangeText.includes("~")?"":"mdi-calendar-range"},model:{value:t.logDateRangeText,callback:function(e){t.logDateRangeText=e},expression:"logDateRangeText"}},"v-text-field",i,!1),s))]}}]),model:{value:t.rangeMenu,callback:function(e){t.rangeMenu=e},expression:"rangeMenu"}},[a("v-date-picker",{attrs:{max:t.logFilterCurrentDate,"no-title":"",reactive:!0,range:"",scrollable:""},model:{value:t.logDates,callback:function(e){t.logDates=e},expression:"logDates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.rangeMenu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.rangeMenu.save(t.logDates)}}},[t._v(" OK ")])],1)],1)],1)],1),a("v-col",{staticClass:"px-0 py-0 my-0 date-type",attrs:{xl:t.isSubLibrary?4:2,md:t.isSubLibrary?4:2,sm:"12",cols:"12"}},[a("v-select",{staticClass:"mx-2",attrs:{dense:"",items:t.orderTypes,"item-text":"name","item-value":"_id",label:"Order by"},model:{value:t.orderBy,callback:function(e){t.orderBy=e},expression:"orderBy"}})],1),t.isSubLibrary?t._e():a("v-col",{staticClass:"px-0 py-0 my-0",attrs:{xl:"4",md:"4",sm:"12",cols:"12"}},[a("v-select",{staticClass:"mx-2",attrs:{loading:null===t.users&&!t.isSubLibrary,dense:"",items:t.users||[],"item-text":"name","item-value":"_id",clearable:"",label:"Distributed By"},model:{value:t.createdBy,callback:function(e){t.createdBy=e},expression:"createdBy"}})],1)],1)],1)])],1)},i=[],n=(a("caad"),a("b0c0"),a("2532"),a("498a"),a("5530")),o=a("4360"),r=a("a6f4"),l=a("bc3a"),c=a.n(l),u=function(t,e){e=e.trim().toLocaleLowerCase(),t.name=t.name.trim().toLocaleLowerCase();var a=1===e.length&&e==t.name[0]||e.length>1&&t.name.includes(e),s=!isNaN(e)&&e==t.memberNumber;return!e.length||a||s},d={props:["isReportFilter"],setup:function(t){var e=Object(r["a"])((function(){var t,e;return!(null===(t=o["a"].mainLayout)||void 0===t||null===(e=t.state)||void 0===e||!e.libraryParent)}));return Object(r["d"])((function(){null!==o["a"].logs.filters.users||e.value||c.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/admin/users")).then((function(t){o["a"].logs.filters.users=o["a"].logsReports.filters.users=t.data}))})),Object(n["a"])(Object(n["a"])({},t.isReportFilter?Object(r["g"])(o["a"].logsReports.filters):Object(r["g"])(o["a"].logs.filters)),{},{rangeMenu:!1,monthMenu:!1,isSubLibrary:e,filterMembers:u,dateTypes:[{name:"Month",_id:"month"},{name:"Date range",_id:"date_range"}],orderTypes:[{name:"Recent first",_id:"-1"},{name:"Oldest first",_id:"1"}]})}},m=d,p=a("2877"),b=a("6544"),v=a.n(b),g=a("c6a6"),h=a("8336"),f=a("ac7c"),y=a("62ad"),x=a("2e4b"),_=a("132d"),L=a("5d23"),C=a("e449"),k=a("0fd9"),T=a("b974"),D=a("8dd9"),S=a("2fa4"),O=a("8654"),w=Object(p["a"])(m,s,i,!1,null,null,null);e["a"]=w.exports;v()(w,{VAutocomplete:g["a"],VBtn:h["a"],VCheckbox:f["a"],VCol:y["a"],VDatePicker:x["a"],VIcon:_["a"],VListItemContent:L["a"],VListItemTitle:L["c"],VMenu:C["a"],VRow:k["a"],VSelect:T["a"],VSheet:D["a"],VSpacer:S["a"],VTextField:O["a"]})}}]);
//# sourceMappingURL=logs.83dfc1a3.js.map