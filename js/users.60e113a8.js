(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["users"],{"2ab4":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-row",t._l(t.counts[t.getScreenSize],(function(e){return a("v-col",{key:e,attrs:{sm:"6",xs:"12",md:"4",lg:"4",cols:"12"}},[a("v-card",{attrs:{tile:""}},[a("v-card-text",[a("v-skeleton-loader",{attrs:{height:t.cardHeight-t.offset,tile:"",type:t.loaderType}})],1)],1)],1)})),1)],1)],1)},i=[],n=a("5530"),r=a("a6f4"),o=a("4360"),c={props:{cardHeight:{type:String,default:"186"},loaderType:{type:String,default:"table-cell,paragraph,text,text"}},setup:function(){var t=34;return Object(n["a"])(Object(n["a"])({},Object(r["g"])(o["a"].app)),{},{offset:t,counts:{sm:4,xs:2,md:6,lg:6,xl:6}})}},l=c,d=a("2877"),u=a("6544"),p=a.n(u),f=a("b0af"),h=a("99d9"),v=a("62ad"),m=a("a523"),b=a("0fd9"),g=a("3129"),y=Object(d["a"])(l,s,i,!1,null,null,null);e["a"]=y.exports;p()(y,{VCard:f["a"],VCardText:h["b"],VCol:v["a"],VContainer:m["a"],VRow:b["a"],VSkeletonLoader:g["a"]})},"3a2f":function(t,e,a){"use strict";a("a9e3");var s=a("ade3"),i=(a("9734"),a("4ad4")),n=a("a9ad"),r=a("16b7"),o=a("b848"),c=a("75eb"),l=a("f573"),d=a("f2e7"),u=a("80d2"),p=a("d9bd"),f=a("58df");e["a"]=Object(f["a"])(n["a"],r["a"],o["a"],c["a"],l["a"],d["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,a=t.content,s=!this.bottom&&!this.left&&!this.top&&!this.right,i=!1!==this.attach?e.offsetLeft:e.left,n=0;return this.top||this.bottom||s?n=i+e.width/2-a.width/2:(this.left||this.right)&&(n=i+(this.right?e.width:-a.width)+(this.right?10:-10)),this.nudgeLeft&&(n-=parseInt(this.nudgeLeft)),this.nudgeRight&&(n+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(n,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,a=t.content,s=!1!==this.attach?e.offsetTop:e.top,i=0;return this.top||this.bottom?i=s+(this.bottom?e.height:-a.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=s+e.height/2-a.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(i+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(u["g"])(this.maxWidth),minWidth:Object(u["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(u["t"])(this,"activator",!0)&&Object(p["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=i["a"].options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===u["y"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(s["a"])(t,this.contentClass,!0),Object(s["a"])(t,"menuable__content__active",this.isActive),Object(s["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},"4cfa":function(t,e,a){},9734:function(t,e,a){},a523:function(t,e,a){"use strict";a("99af"),a("4de4"),a("b64b"),a("2ca0"),a("20f6"),a("4b85"),a("a15b"),a("498a");var s=a("2b0e");function i(t){return s["default"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,a){var s=a.props,i=a.data,n=a.children;i.staticClass="".concat(t," ").concat(i.staticClass||"").trim();var r=i.attrs;if(r){i.attrs={};var o=Object.keys(r).filter((function(t){if("slot"===t)return!1;var e=r[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e}));o.length&&(i.staticClass+=" ".concat(o.join(" ")))}return s.id&&(i.domProps=i.domProps||{},i.domProps.id=s.id),e(s.tag,i,n)}})}var n=a("d9f7");e["a"]=i("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var a,s=e.props,i=e.data,r=e.children,o=i.attrs;return o&&(i.attrs={},a=Object.keys(o).filter((function(t){if("slot"===t)return!1;var e=o[t];return t.startsWith("data-")?(i.attrs[t]=e,!1):e||"string"===typeof e}))),s.id&&(i.domProps=i.domProps||{},i.domProps.id=s.id),t(s.tag,Object(n["a"])(i,{staticClass:"container",class:Array({"container--fluid":s.fluid}).concat(a||[])}),r)}})},b398:function(t,e,a){"use strict";a("4cfa")},ed81:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"}},[a("v-sheet",{staticClass:"px-6 py-2 d-flex flex-column justify-center",staticStyle:{height:"50px"}},[a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"primary",attrs:{tile:"","x-small":""},on:{click:t.showAddUserPopup}},[t._v("Add New User")])],1)]),t.noRecordsFound?a("v-container",{staticClass:"text-center py-10"},[t._v(" No users found. ")]):t._e(),a("div",{directives:[{name:"bar",rawName:"v-bar"}],ref:"scrollable",staticClass:"users-listing-parent"},[a("div",[t.isLoading?a("SkeltonLoader",{attrs:{cardHeight:"98",loaderType:"table-cell, text"}}):a("v-container",[a("v-row",t._l(t.data,(function(e){return a("UserCard",{key:e._id,attrs:{user:e,sm:"6",xs:"12",md:"4",lg:"4",cols:"12",onEdit:function(){return t.editUserModal(e)}}})})),1)],1)],1)]),a("v-dialog",{attrs:{width:"600"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("v-card",[a("v-toolbar",{staticClass:"mb-4",attrs:{color:"primary",dark:""}},[a("span",[t._v(t._s(t.editMode?"Edit User":"Add New User"))])]),a("v-form",{ref:"newUserForm",attrs:{autocomplete:"off","lazy-validation":""},model:{value:t.formValid,callback:function(e){t.formValid=e},expression:"formValid"}},[a("input",{staticClass:"opacity-hide",attrs:{type:"email",name:"user_name",id:"user_name",value:""}}),a("input",{staticClass:"opacity-hide",attrs:{type:"password",name:"password",id:"password",value:""}}),a("v-card-text",{staticClass:"pb-0"},[t._v(" Name ")]),a("v-card-title",{staticClass:"py-0"},[a("v-text-field",{staticClass:"py-0 my-0",attrs:{autocomplete:"off",rules:[function(t){return!!(t&&t.trim().length&&t.trim().length<=50)||"Required (Max: 50 chars)"}]},model:{value:t.newUser.name,callback:function(e){t.$set(t.newUser,"name",e)},expression:"newUser.name"}})],1),a("v-card-text",{staticClass:"pb-0"},[t._v(" Username ")]),a("v-card-title",{staticClass:"py-0"},[a("v-text-field",{staticClass:"py-0 my-0",attrs:{autocomplete:"off",disabled:t.editMode,rules:[t.unValidation,function(t){return t.length<=20||"Max: 20 characters"}]},model:{value:t.newUser.username,callback:function(e){t.$set(t.newUser,"username",e)},expression:"newUser.username"}})],1),!t.editMode||t.editMode&&t.editPassword?[a("v-card-text",{staticClass:"pb-0"},[t._v(" Password "),t.editPassword?a("v-btn",{staticClass:"primary float-right",attrs:{tile:"","x-small":""},on:{click:function(e){t.editPassword=!1}}},[t._v("Cancel Change Password")]):t._e()],1),a("v-card-title",{staticClass:"py-0"},[a("v-text-field",{staticClass:"py-0 my-0",attrs:{autocomplete:"off",type:"password",rules:[t.passwordValidation]},model:{value:t.newUser.password,callback:function(e){t.$set(t.newUser,"password",e)},expression:"newUser.password"}})],1)]:a("v-card-text",{staticClass:"pb-0"},[a("v-btn",{staticClass:"primary",attrs:{tile:"","x-small":""},on:{click:function(e){t.editPassword=!0}}},[t._v("Change Password")])],1),a("v-card-text",{staticClass:"pb-0"},[t._v(" Permissions ")]),a("v-card-title",{staticClass:"py-0 pt-2 permissions"},[a("v-checkbox",{staticClass:"ma-0 mb-2 pa-0 pr-3",attrs:{dense:"","hide-details":"",label:"Book distributions cannot be returned by other users (except admin)"},model:{value:t.newUser.mustReturnByMe,callback:function(e){t.$set(t.newUser,"mustReturnByMe",e)},expression:"newUser.mustReturnByMe"}})],1),a("v-card-title",{staticClass:"py-0 permissions"},[a("v-checkbox",{staticClass:"ma-0 mb-2 pa-0 pr-3",attrs:{dense:"","hide-details":"",label:"Restrict returning books distributed by other users"},model:{value:t.newUser.returnRestricted,callback:function(e){t.$set(t.newUser,"returnRestricted",e)},expression:"newUser.returnRestricted"}})],1),a("v-card-text",{staticClass:"pb-0"},[t._v(" Permissions ")]),a("v-card-title",{staticClass:"py-2 permissions"},t._l(t.scopes,(function(e,s){return a("v-checkbox",{key:"scope-"+s,staticClass:"ma-0 mb-2 pa-0 pr-3",attrs:{"input-value":t.newUser.scopes.includes(e.id),dense:"","hide-details":"",label:e.label},on:{change:function(a){return t.scopeChange(a,e.id)}}})})),1)],2),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.value=!1}}},[t._v(" Cancel ")]),a("v-btn",{staticClass:"primary",attrs:{tile:"",text:""},on:{click:t.saveNewUser}},[t._v("Save")])],1)],1)]}}]),model:{value:t.detailsDialog,callback:function(e){t.detailsDialog=e},expression:"detailsDialog"}})],1)},i=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{sm:t.sm,xs:t.xs,md:t.md,lg:t.lg,cols:t.cols}},[a("v-tooltip",{attrs:{top:"","max-width":"250","nudge-top":"-15",transition:"fade-transition","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-card",t._g(t._b({attrs:{tile:""}},"v-card",i,!1),s),[a("v-card-text",[a("div",{staticClass:"text--primary force-single-line relative pr-4"},[t._v(" Name: "+t._s(t.user.name)+" "),a("v-icon",{staticClass:"absolute-right pointer",attrs:{size:"15",color:"primary"},on:{click:t.onEdit}},[t._v("mdi-pencil")])],1),a("div",{staticClass:"text--primary force-single-line"},[t._v(" Username: "+t._s(t.user.username)+" ")]),a("div",{staticClass:"text--primary force-single-line"},[t._v(" Created On: "+t._s(t._f("formatDateTime")(t.user.createdAt))+" ")])])],1)]}}])},[t._v(t._s(t.user.name)+" ")])],1)},r=[],o=a("c1df"),c=a.n(o),l={props:["lg","md","sm","xs","cols","user","onEdit"],setup:function(){return{Moment:c.a}}},d=l,u=a("2877"),p=a("6544"),f=a.n(p),h=a("b0af"),v=a("99d9"),m=a("62ad"),b=a("132d"),g=a("3a2f"),y=Object(u["a"])(d,n,r,!1,null,null,null),x=y.exports;f()(y,{VCard:h["a"],VCardText:v["b"],VCol:m["a"],VIcon:b["a"],VTooltip:g["a"]});var C=a("2ab4"),w=a("6211"),_={setup:w["u"],components:{UserCard:x,SkeltonLoader:C["a"]}},k=_,V=(a("b398"),a("8336")),U=a("ac7c"),S=a("a523"),T=a("169a"),A=a("ce7e"),O=a("4bd4"),j=a("0fd9"),P=a("8dd9"),D=a("2fa4"),M=a("8654"),R=a("71d9"),B=Object(u["a"])(k,s,i,!1,null,"7143abc0",null);e["default"]=B.exports;f()(B,{VBtn:V["a"],VCard:h["a"],VCardActions:v["a"],VCardText:v["b"],VCardTitle:v["c"],VCheckbox:U["a"],VContainer:S["a"],VDialog:T["a"],VDivider:A["a"],VForm:O["a"],VRow:j["a"],VSheet:P["a"],VSpacer:D["a"],VTextField:M["a"],VToolbar:R["a"]})}}]);
//# sourceMappingURL=users.60e113a8.js.map