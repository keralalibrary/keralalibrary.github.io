(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["books"],{"033f":function(t,e,a){},"05b7":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{"max-width":"250",value:t.value},on:{input:function(e){return t.$emit("input",e)}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("v-card",[a("v-card-text",{staticClass:"pt-6 text-center"},[t.isLoading?a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{width:"150",height:"150",tile:"",type:"image"}}):a("img",{staticClass:"qr-code-wrapper",attrs:{src:t.svgData}})],1),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{text:""},on:{click:t.download}},[t._v("Save")]),a("v-btn",{attrs:{text:""},on:{click:function(t){e.value=!1}}},[t._v("Close")])],1)],1)]}}])})},i=[],s=(a("99af"),a("d3b7"),a("5530")),n=a("a6f4"),r=a("bc3a"),l=a.n(r),c=a("ce96"),d=Object(n["e"])({svgData:"",isLoading:!0}),u=function(t){d.isLoading=!0,l.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/book/").concat(t,"/qrCode")).then((function(t){d.isLoading=!1,d.svgData=t.data})).catch((function(t){return Promise.reject(t)}))},f={props:{value:{type:Boolean},bookId:{type:String}},setup:function(t){var e=function(){c["a"].downloadFromDataUri(d.svgData)};return Object(n["h"])((function(){return t.bookId}),(function(t){u(t)})),Object(s["a"])(Object(s["a"])({},Object(n["g"])(d)),{},{download:e})}},p=f,h=a("2877"),v=a("6544"),b=a.n(v),m=a("8336"),g=a("b0af"),y=a("99d9"),k=a("169a"),_=a("3129"),x=Object(h["a"])(p,o,i,!1,null,null,null);e["a"]=x.exports;b()(x,{VBtn:m["a"],VCard:g["a"],VCardActions:y["a"],VCardText:y["b"],VDialog:k["a"],VSkeletonLoader:_["a"]})},"2ab4":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",[a("v-row",t._l(t.counts[t.getScreenSize],(function(e){return a("v-col",{key:e,attrs:{sm:"6",xs:"12",md:"4",lg:"4",cols:"12"}},[a("v-card",{attrs:{tile:""}},[a("v-card-text",[a("v-skeleton-loader",{attrs:{height:t.cardHeight-t.offset,tile:"",type:t.loaderType}})],1)],1)],1)})),1)],1)],1)},i=[],s=a("5530"),n=a("a6f4"),r=a("4360"),l={props:{cardHeight:{type:String,default:"186"},loaderType:{type:String,default:"table-cell,paragraph,text,text"}},setup:function(){var t=34;return Object(s["a"])(Object(s["a"])({},Object(n["g"])(r["a"].app)),{},{offset:t,counts:{sm:4,xs:2,md:6,lg:6,xl:6}})}},c=l,d=a("2877"),u=a("6544"),f=a.n(u),p=a("b0af"),h=a("99d9"),v=a("62ad"),b=a("a523"),m=a("0fd9"),g=a("3129"),y=Object(d["a"])(c,o,i,!1,null,null,null);e["a"]=y.exports;f()(y,{VCard:p["a"],VCardText:h["b"],VCol:v["a"],VContainer:b["a"],VRow:m["a"],VSkeletonLoader:g["a"]})},"3a2f":function(t,e,a){"use strict";a("a9e3");var o=a("ade3"),i=(a("9734"),a("4ad4")),s=a("a9ad"),n=a("16b7"),r=a("b848"),l=a("75eb"),c=a("f573"),d=a("f2e7"),u=a("80d2"),f=a("d9bd"),p=a("58df");e["a"]=Object(p["a"])(s["a"],n["a"],r["a"],l["a"],c["a"],d["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,fixed:{type:Boolean,default:!0},openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,a=t.content,o=!this.bottom&&!this.left&&!this.top&&!this.right,i=!1!==this.attach?e.offsetLeft:e.left,s=0;return this.top||this.bottom||o?s=i+e.width/2-a.width/2:(this.left||this.right)&&(s=i+(this.right?e.width:-a.width)+(this.right?10:-10)),this.nudgeLeft&&(s-=parseInt(this.nudgeLeft)),this.nudgeRight&&(s+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(s,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,a=t.content,o=!1!==this.attach?e.offsetTop:e.top,i=0;return this.top||this.bottom?i=o+(this.bottom?e.height:-a.height)+(this.bottom?10:-10):(this.left||this.right)&&(i=o+e.height/2-a.height/2),this.nudgeTop&&(i-=parseInt(this.nudgeTop)),this.nudgeBottom&&(i+=parseInt(this.nudgeBottom)),"".concat(this.calcYOverflow(i+this.pageYOffset),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(u["g"])(this.maxWidth),minWidth:Object(u["g"])(this.minWidth),opacity:this.isActive?.9:0,top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(u["t"])(this,"activator",!0)&&Object(f["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=i["a"].options.methods.genActivatorListeners.call(this);return e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")},e.keydown=function(e){e.keyCode===u["y"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},Object(o["a"])(t,this.contentClass,!0),Object(o["a"])(t,"menuable__content__active",this.isActive),Object(o["a"])(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},"475c":function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-col",{attrs:{sm:t.sm,xs:t.xs,md:t.md,lg:t.lg,cols:t.cols}},[a("v-tooltip",{attrs:{top:"","max-width":"250","nudge-top":"-15",transition:"fade-transition","open-delay":"500"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-card",t._g(t._b({staticClass:"book-card",attrs:{tile:""}},"v-card",i,!1),o),[a("v-card-text",[a("div",[t.type?a("v-checkbox",{staticClass:"ma-0 pa-0",attrs:{value:t.book._id,dense:"",disabled:t.returnPrevented||t.returnRestricted||"return"===t.type&&2===t.book.status&&t.fromSubLibrary,"hide-details":"",label:"#"+t.book.bookNumber},model:{value:t.selectedBooks,callback:function(e){t.selectedBooks=e},expression:"selectedBooks"}}):a("span",[t._v("#"+t._s(t.book.bookNumber))]),t.type?t._e():a("router-link",{attrs:{to:"/books/"+t.book._id}},[a("v-icon",{staticClass:"float-right pointer",attrs:{size:"20",color:"primary"}},[t._v("mdi-dots-vertical")])],1),t.type?t._e():a("v-icon",{staticClass:"float-right pointer mr-1",attrs:{size:"20",color:"primary"},on:{click:function(e){return t.showQrCode(t.book._id)}}},[t._v("mdi-qrcode")])],1),a("div",{staticClass:"text--primary force-single-line"},[t._v(" "+t._s(t.book.name)+" ")]),a("div",{class:["force-single-line",t.book.author?"":"not-assigned"]},[t._v(" "+t._s(t.book.author?t.book.author:"No author assigned")+" ")]),a("div",{staticClass:"force-single-line"},[t._v(t._s(t.book.type))]),a("div",{staticClass:"force-single-line"},[t._v(" Shelf number "+t._s(t.book.shelfNumber?"S"+t.book.shelfNumber:"not assigned")+" ")]),t.type?"return"===t.type?a("div",{staticClass:"force-single-line"},[t._v(" Distributed on "+t._s(t._f("formatDate")(new Date(t.fromSubLibrary?t.book.slastDistributedDate:t.book.lastDistributedDate)))+" "+t._s(t.book.lastDistributedBy&&" by "+t.book.lastDistributedBy.name)+" "),t.returnPrevented||t.returnRestricted?a("span",{staticClass:"orange--text"},[t._v("(Return not allowed)")]):t._e()]):a("div",[2===t.book.status?a("span",[t._v("Distributed on "+t._s(t._f("formatDate")(new Date(t.book.lastDistributedDate))))]):t.book.lastDistributedDate?a("span",[t._v("Last distributed on "+t._s(t._f("formatDate")(new Date(t.book.lastDistributedDate))))]):a("span",[t._v("Not yet distributed")])]):a("div",[t._v(" Purchased on "+t._s(t._f("formatDate")(new Date(t.book.dateAdded)))+" ")]),a("v-badge",{staticClass:"stock-badge",attrs:{dot:"",inline:"",left:"",tile:"",color:t.statusColors[t.book.status]}},[a("div",{class:["force-single-line",t.statusColors[t.book.status]+"--text"]},[1===t.book.status?a("span",[t._v("In stock")]):2===t.book.status?a("span",[t._v(" "+t._s(t.book.distributedTo?"# "+t.book.distributedTo.memberNumber+" "+t.book.distributedTo.name:"Out of stock")+" ")]):a("span",[t._v("Removed")])])])],1)],1)]}}])},[t._v(" # "+t._s(t.book.bookNumber)+", "+t._s(t.book.name)+" "),t.returnRestricted?a("span",{staticClass:"orange--text"},[a("br"),t._v(" You are not allowed to return book distributed by other users ")]):t.returnPrevented?a("span",{staticClass:"orange--text"},[a("br"),t._v(" Return allowed to only admin and "+t._s(t.book.lastDistributedBy.name)+" ")]):t._e()])],1)},i=[],s=a("5530"),n=a("a6f4"),r=a("4360"),l=function(t){r["a"].mainLayout.isFreeTrail?r["a"].app.showDialog("Not allowed","This account is under free trail, upgrade your account to do this action.","error"):r["a"].mainLayout.isExpired?r["a"].app.showDialog("Not allowed","This account has been expired, ".concat(r["a"].mainLayout.isFreeTrail?"upgrade":"renew"," your account to do this action."),"error"):(r["a"].books.state.showQrCode=!0,r["a"].books.state.qrCodeBook=t)},c={props:["lg","md","sm","xs","cols","book","type","fromSubLibrary"],setup:function(t){var e=Object(n["a"])((function(){var e=r["a"].mainLayout.state.user;return"admin"!==e.role&&"return"===t.type&&t.book.lastDistributedBy&&t.book.lastDistributedBy._id!==e._id&&t.book.lastDistributedBy.mustReturnByMe})),a=Object(n["a"])((function(){var e=r["a"].mainLayout.state.user;return"return"===t.type&&e.returnRestricted&&t.book.lastDistributedBy&&e._id!=t.book.lastDistributedBy._id})),o={statusColors:{1:"green",2:"orange",3:"grey"}};return"distribute"===t.type?o=Object(s["a"])(Object(s["a"])({},o),Object(n["g"])(r["a"].distribute.state)):"return"===t.type&&(o=Object(s["a"])(Object(s["a"])({},o),Object(n["g"])(r["a"].returnBook.state))),Object(s["a"])(Object(s["a"])({},o),{},{showQrCode:l,returnPrevented:e,returnRestricted:a})}},d=c,u=(a("d37a"),a("2877")),f=a("6544"),p=a.n(f),h=a("4ca6"),v=a("b0af"),b=a("99d9"),m=a("ac7c"),g=a("62ad"),y=a("132d"),k=a("3a2f"),_=Object(u["a"])(d,o,i,!1,null,"5276adf8",null);e["a"]=_.exports;p()(_,{VBadge:h["a"],VCard:v["a"],VCardText:b["b"],VCheckbox:m["a"],VCol:g["a"],VIcon:y["a"],VTooltip:k["a"]})},"4ca6":function(t,e,a){"use strict";a("a9e3");var o=a("15fd"),i=a("5530"),s=(a("ff44"),a("132d")),n=a("a9ad"),r=a("7560"),l=a("f2e7"),c=a("2b0e"),d=c["default"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),u=a("fe6c"),f=a("58df"),p=a("80d2");e["a"]=Object(f["a"])(n["a"],Object(u["b"])(["left","bottom"]),r["a"],l["a"],d).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes:function(){return Object(i["a"])({"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile},this.themeClasses)},computedBottom:function(){return this.bottom?"auto":this.computedYOffset},computedLeft:function(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight:function(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop:function(){return this.bottom?this.computedYOffset:"auto"},computedXOffset:function(){return this.calcPosition(this.offsetX)},computedYOffset:function(){return this.calcPosition(this.offsetY)},isRtl:function(){return this.$vuetify.rtl},offset:function(){return this.overlap?this.dot?8:12:this.dot?2:4},styles:function(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition:function(t){return"calc(100% - ".concat(Object(p["g"])(t||this.offset),")")},genBadge:function(){var t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),a=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),o=this.$createElement("span",a,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[o]):o},genBadgeContent:function(){if(!this.dot){var t=Object(p["s"])(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(s["a"],this.icon):void 0)}},genBadgeWrapper:function(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render:function(t){var e=[this.genBadgeWrapper()],a=[Object(p["s"])(this)],i=this.$attrs,s=(i["aria-atomic"],i["aria-label"],i["aria-live"],i.role,i.title,Object(o["a"])(i,["aria-atomic","aria-label","aria-live","role","title"]));return this.inline&&this.left?a.unshift(e):a.push(e),t("span",{staticClass:"v-badge",attrs:s,class:this.classes},a)}})},"4de9":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{height:"100%"}},[a("BooksFilters"),t.isLargeLoading?a("v-progress-linear",{attrs:{indeterminate:""}}):t._e(),t.noRecordsFound?a("v-container",{staticClass:"text-center py-10"},[t._v(" No books found. ")]):t._e(),a("div",{directives:[{name:"bar",rawName:"v-bar"}],ref:"scrollable",staticClass:"books-listing-parent"},[a("div",[a("v-container",{class:[t.isEmpty?"d-none":"",t.loadedAll?"":"pull-up-margin"]},[a("v-row",t._l(t.data,(function(t){return a("BookCard",{key:t._id,attrs:{book:t,sm:"6",xs:"12",md:"4",lg:"4",cols:"12"}})})),1)],1),t.loadedAll?t._e():a("SkeltonLoader")],1)]),a("BookQrCode",{attrs:{bookId:t.qrCodeBook},model:{value:t.showQrCode,callback:function(e){t.showQrCode=e},expression:"showQrCode"}})],1)},i=[],s=a("6211"),n=a("475c"),r=a("2ab4"),l=a("b22f"),c=a("05b7"),d={setup:s["b"],components:{BookCard:n["a"],SkeltonLoader:r["a"],BooksFilters:l["a"],BookQrCode:c["a"]}},u=d,f=a("2877"),p=a("6544"),h=a.n(p),v=a("a523"),b=a("8e36"),m=a("0fd9"),g=Object(f["a"])(u,o,i,!1,null,null,null);e["default"]=g.exports;h()(g,{VContainer:v["a"],VProgressLinear:b["a"],VRow:m["a"]})},9734:function(t,e,a){},b22f:function(t,e,a){"use strict";var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.isReportFilter?t._e():a("v-btn",{staticClass:"search-bar-toggle d-md-none",on:{click:function(e){return t.toggleFilterOnXs()}}},[a("v-icon",[t._v("mdi-dots-horizontal")])],1),a("v-dialog",{attrs:{width:"600"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("v-card",[a("v-toolbar",{staticClass:"mb-4",attrs:{color:"primary",dark:""}},[a("span",[t._v("Generate QR codes")])]),t.qrInfo.isGenerating?a("v-card-text",[t._v(" You cannot generate zip file as already a zip file generation is in progress, please "),a("a",{on:{click:function(e){return e.preventDefault(),t.getQRcodeCodeZipInfo()}}},[t._v(" try again ")]),t._v(" after some time. ")]):t.qrInfo.s3FileHeadInfo?a("v-card-text",[t.isQrRecent?a("span",[t._v("Your recently generated QR codes zip file at "+t._s(t._f("formatTime")(t.qrInfo.s3FileHeadInfo.LastModified))+" is ready "),a("a",{attrs:{href:t.qrInfo.s3FileHeadInfo.url}},[t._v("click here")]),t._v(" to download. ")]):a("span",[t._v(" Previously generated QR codes zip file was on "+t._s(t._f("formatDateTime")(t.qrInfo.s3FileHeadInfo.LastModified))+", "),a("a",{attrs:{href:t.qrInfo.s3FileHeadInfo.url}},[t._v("click here")]),t._v(" to download. ")])]):a("v-card-text",[t._v(" Previously generated zip file not found. ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.value=!1}}},[t._v(" Cancel ")]),t.qrInfo.isGenerating?t._e():a("v-btn",{staticClass:"primary",attrs:{tile:"",text:""},on:{click:function(e){return t.generateQRcodeCodeZipInfo()}}},[t._v(" Generate ")])],1)],1)]}}]),model:{value:t.showQrModal,callback:function(e){t.showQrModal=e},expression:"showQrModal"}}),a("v-sheet",{class:[!t.isReportFilter&&"books-filters-parent",!t.isReportFilter&&t.showFilterOnXs&&"show",t.isReportFilter&&"pt-10 in-report-filter"],attrs:{outlined:""}},[t.isReportFilter?t._e():a("div",{class:["px-6 pt-2"],staticStyle:{height:"50px"}},[a("v-btn",{staticClass:"float-right ml-2 d-md-none mt-1",attrs:{tile:"","x-small":""},on:{click:function(e){return t.toggleFilterOnXs()}}},[t._v("Hide")]),a("v-btn",{staticClass:"float-right ml-2 mt-1",attrs:{tile:"","x-small":""},on:{click:function(e){return t.resetFilter()}}},[t._v("Reset")]),t.isSubLibrary?t._e():a("v-btn",{staticClass:"primary float-right ml-2 mt-1",attrs:{tile:"","x-small":""},on:{click:function(e){return t.addNewBook()}}},[t._v("Add new book")]),a("v-btn",{staticClass:"primary float-right mt-1",attrs:{tile:"","x-small":""},on:{click:function(e){return t.getQRcodeCodeZipInfo()}}},[t._v("Generate QR codes as zip file")])],1),a("div",{class:["d-flex","align-center","fill-width"],staticStyle:{height:"calc(100% - 50px)"}},[a("v-row",{staticClass:"mx-0 px-4"},[t.isReportFilter?t._e():a("v-col",{staticClass:"px-0 py-0 my-0",attrs:{xl:"2",md:"2",sm:"12",cols:"12"}},[a("v-text-field",{staticClass:"mx-2",attrs:{clearable:"",dense:"","append-icon":"mdi-magnify",label:"Search"},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}})],1),t.isReportFilter?t._e():a("v-col",{staticClass:"px-0 py-0 my-0",attrs:{xl:"2",md:"2",sm:"12",cols:"12"}},[a("v-select",{staticClass:"mx-2",attrs:{dense:"",items:t.searchByFilters,"item-text":"name","item-value":"_id",label:"Search By",clearable:""},model:{value:t.searchBy,callback:function(e){t.searchBy=e},expression:"searchBy"}})],1),a("v-col",{staticClass:"px-0 py-0 my-0",attrs:{xl:t.isReportFilter?3:2,md:t.isReportFilter?3:2,sm:"12",cols:"12"}},[a("v-select",{staticClass:"mx-2",attrs:{dense:"",items:t.searchByStock,"item-text":"name","item-value":"_id",label:"Stock",clearable:""},scopedSlots:t._u([{key:"selection",fn:function(e){var o=e.item;return[a("v-badge",{attrs:{dot:"",inline:"",tile:"",color:t.statusColors[o._id]}},[t._v(" "+t._s(o.name)+" ")])]}},{key:"item",fn:function(e){var o=e.item;return[a("v-badge",{attrs:{dot:"",inline:"",tile:"",color:t.statusColors[o._id]}},[t._v(" "+t._s(o.name)+" ")])]}}]),model:{value:t.stock,callback:function(e){t.stock=e},expression:"stock"}})],1),a("v-col",{staticClass:"px-0 py-0 my-0",attrs:{xl:t.isReportFilter?3:2,md:t.isReportFilter?3:2,sm:"12",cols:"12"}},[a("vc-data-autocomplete",{staticClass:"mx-2",attrs:{api:"/book/type","map-value":"name","emit-on-search":"",clearable:"",dense:"",label:"Category"},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}})],1),a("v-col",{staticClass:"px-0 py-0 my-0",attrs:{xl:t.isReportFilter?3:2,md:t.isReportFilter?3:2,sm:"12",cols:"12"}},[a("v-select",{staticClass:"mx-2",attrs:{dense:"",items:t.searchByOrder,"item-text":"name","item-value":"orderBy",label:"Order by"},model:{value:t.orderBy,callback:function(e){t.orderBy=e},expression:"orderBy"}})],1),a("v-col",{staticClass:"px-0 py-0 my-0",attrs:{xl:t.isReportFilter?3:2,md:t.isReportFilter?3:2,sm:"12",cols:"12"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.purchaseDates,transition:"scale-transition","offset-y":"","min-width":"290px"},on:{"update:returnValue":function(e){t.purchaseDates=e},"update:return-value":function(e){t.purchaseDates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({staticClass:"mx-2",attrs:{hint:"Select a date range",dense:"",clearable:"",label:"Date added",readonly:"","append-icon":t.purchaseDateRangeText&&t.purchaseDateRangeText.includes("~")?"":"mdi-calendar-range"},model:{value:t.purchaseDateRangeText,callback:function(e){t.purchaseDateRangeText=e},expression:"purchaseDateRangeText"}},"v-text-field",i,!1),o))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{max:t.purchaseFilterMaxDate,"no-title":"",reactive:!0,range:"",scrollable:""},model:{value:t.purchaseDates,callback:function(e){t.purchaseDates=e},expression:"purchaseDates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.purchaseDates)}}},[t._v(" OK ")])],1)],1)],1)],1)],1)])],1)},i=[],s=(a("d3b7"),a("5530")),n=a("4360"),r=a("a6f4"),l=a("bc3a"),c=a.n(l),d=a("c1df"),u=a.n(d),f=Object(r["e"])({showQrModal:!1,isQrRecent:!1,qrInfo:null});Object(r["h"])((function(){return f.qrInfo}),(function(t){var e,a;t&&(f.isQrRecent=(null===t||void 0===t||null===(e=t.s3FileHeadInfo)||void 0===e?void 0:e.LastModified)&&u()(n["a"].app.getTime).diff(null===t||void 0===t||null===(a=t.s3FileHeadInfo)||void 0===a?void 0:a.LastModified,"minutes")<=15)}));var p=function(t){!t&&n["a"].app.showLoader("Please wait..."),c.a.get("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/qrCodesZip")).then((function(e){f.qrInfo=e.data,!t&&(f.showQrModal=!0)})).finally((function(){return!t&&n["a"].app.hideLoader()}))},h=function(){n["a"].app.showLoader("Generating zip file..."),c.a.post("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/qrCodesZip"),null,{timeout:25e3}).then((function(t){p(!0),window.location.href=t.data.url})).catch((function(t){var e,a,o,i;(p(!0),"timeout of 25000ms exceeded"===t.message)?n["a"].app.showDialog("Notice!","This may take some time depending upon the number of books in library, please check after few minutes","warning"):null!==t&&void 0!==t&&null!==(e=t.response)&&void 0!==e&&null!==(a=e.data)&&void 0!==a&&a.message?n["a"].app.showAlert(null===t||void 0===t||null===(o=t.response)||void 0===o||null===(i=o.data)||void 0===i?void 0:i.message):n["a"].app.showAlert("Some error occured!")})).finally((function(){return n["a"].app.hideLoader()}))},v={props:["isReportFilter"],setup:function(t,e){var a=e.root,o=Object(r["a"])((function(){var t,e;return!(null===(t=n["a"].mainLayout)||void 0===t||null===(e=t.state)||void 0===e||!e.libraryParent)}));return Object(s["a"])(Object(s["a"])(Object(s["a"])({},!0!==t.isReportFilter?Object(r["g"])(n["a"].books.filters):Object(r["g"])(n["a"].booksReport.filters)),Object(r["g"])(f)),{},{isSubLibrary:o,menu:!1,getQRcodeCodeZipInfo:p,generateQRcodeCodeZipInfo:h,statusColors:{1:"green",2:"orange",3:"grey"},addNewBook:function(){a._router.push({name:"new_book"})}})}},b=v,m=a("2877"),g=a("6544"),y=a.n(g),k=a("4ca6"),_=a("8336"),x=a("b0af"),C=a("99d9"),w=a("62ad"),O=a("2e4b"),D=a("169a"),B=a("ce7e"),R=a("132d"),S=a("e449"),j=a("0fd9"),L=a("b974"),V=a("8dd9"),F=a("2fa4"),T=a("8654"),I=a("71d9"),A=Object(m["a"])(b,o,i,!1,null,null,null);e["a"]=A.exports;y()(A,{VBadge:k["a"],VBtn:_["a"],VCard:x["a"],VCardActions:C["a"],VCardText:C["b"],VCol:w["a"],VDatePicker:O["a"],VDialog:D["a"],VDivider:B["a"],VIcon:R["a"],VMenu:S["a"],VRow:j["a"],VSelect:L["a"],VSheet:V["a"],VSpacer:F["a"],VTextField:T["a"],VToolbar:I["a"]})},d37a:function(t,e,a){"use strict";a("033f")},ff44:function(t,e,a){}}]);
//# sourceMappingURL=books.fe09a33e.js.map