(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["singleMember"],{"594f":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"single-member",staticStyle:{height:"100%"}},[a("div",{directives:[{name:"bar",rawName:"v-bar"}],ref:"scrollable",staticClass:"single-member-parent",staticStyle:{height:"100%"}},[a("div",[a("v-container",[e.loading?a("div",{staticClass:"py-5"},[a("SingleBookSkeltonLoader")],1):a("div",[e.isEditMode||e.newMember?a("div",{staticClass:"py-5"},[a("v-card",{staticClass:"pa-4",attrs:{tile:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"12"}},[a("v-card-text",{staticClass:"pb-0 text-right"},[e.newMember?a("v-btn",{staticClass:"ml-2 mb-2",attrs:{"x-small":"",tile:"",color:"primary"},on:{click:e.saveNewData}},[e._v("Save")]):a("v-btn",{staticClass:"ml-2 mb-2",attrs:{disabled:!e.hasChanged,"x-small":"",tile:"",color:"primary"},on:{click:e.updateData}},[e._v("Update")]),e.newMember?e.isBackPossible?a("v-btn",{staticClass:"ml-2 mb-2",attrs:{"x-small":"",tile:""},on:{click:e.goBackWard}},[e._v("Cancel")]):e._e():a("v-btn",{staticClass:"ml-2 mb-2",attrs:{"x-small":"",tile:""},on:{click:function(t){e.isEditMode=!1}}},[e._v("Cancel")])],1)],1)],1),a("v-form",{ref:"form",attrs:{autocomplete:"off","lazy-validation":""},model:{value:e.formValid,callback:function(t){e.formValid=t},expression:"formValid"}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Member Number ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-text-field",{staticClass:"py-0 my-0",attrs:{disabled:"",loading:e.newMember&&e.nextNumberLoading,value:e.newMember?"# "+e.nextNumber:"# "+e.memberData.memberNumber}})],1)],1),e.newMember?a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Membership class ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-select",{staticClass:"py-0 my-0",attrs:{rules:[function(e){return!(!e||!e.trim().length)||"Required"}],loading:e.membershipPlansLoading,items:e.membershipPlans,"item-text":"name","item-value":"_id","menu-props":"auto","hide-details":""},model:{value:e.membershipPlan,callback:function(t){e.membershipPlan=t},expression:"membershipPlan"}})],1)],1):a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Membership class ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-text-field",{staticClass:"py-0 my-0",attrs:{disabled:"",value:e.memberData.membershipPlan.name}})],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Name ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-text-field",{staticClass:"py-0 my-0",attrs:{rules:[function(e){return!!(e.trim().length&&e.trim().length<=50)||"Required (Max: 50 chars)"}]},model:{value:e.editModeMemberData.name,callback:function(t){e.$set(e.editModeMemberData,"name",t)},expression:"editModeMemberData.name"}})],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Gender ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-select",{staticClass:"py-0 my-0",attrs:{rules:[function(e){return!(!e||!e.trim().length)||"Required"}],items:e.genders,"item-text":"label","item-value":"value","menu-props":"auto","hide-details":""},model:{value:e.editModeMemberData.gender,callback:function(t){e.$set(e.editModeMemberData,"gender",t)},expression:"editModeMemberData.gender"}})],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Date Added ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-menu",{ref:"dateOfJoinMenuRef",attrs:{"close-on-content-click":!1,"return-value":e.editModeMemberData.dateOfJoin,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.editModeMemberData,"dateOfJoin",t)},"update:return-value":function(t){return e.$set(e.editModeMemberData,"dateOfJoin",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({staticClass:"py-0 my-0",attrs:{rules:[function(e){return!(!e||!e.trim().length)||"Required"}],value:e.formatDate(e.editModeMemberData.dateOfJoin),"append-icon":"mdi-calendar",readonly:""}},"v-text-field",r,!1),s))]}}],null,!1,1590187250),model:{value:e.dateOfJoinMenu,callback:function(t){e.dateOfJoinMenu=t},expression:"dateOfJoinMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:"",to:""},model:{value:e.editModeMemberData.dateOfJoin,callback:function(t){e.$set(e.editModeMemberData,"dateOfJoin",t)},expression:"editModeMemberData.dateOfJoin"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dateOfJoinMenu=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dateOfJoinMenuRef.save(e.editModeMemberData.dateOfJoin)}}},[e._v(" OK ")])],1)],1)],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Address ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-textarea",{staticClass:"py-0 my-0",attrs:{rows:"1",rules:[function(e){return!!(e.trim().length&&e.trim().length<=300)||"Required (Max: 300 chars)"}]},model:{value:e.editModeMemberData.address,callback:function(t){e.$set(e.editModeMemberData,"address",t)},expression:"editModeMemberData.address"}})],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Date of Birth ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-menu",{ref:"dateOfBirthMenuRef",attrs:{"close-on-content-click":!1,"return-value":e.editModeMemberData.dateOfBirth,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.editModeMemberData,"dateOfBirth",t)},"update:return-value":function(t){return e.$set(e.editModeMemberData,"dateOfBirth",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({staticClass:"py-0 my-0",attrs:{clearable:"",value:e.formatDate(e.editModeMemberData.dateOfBirth),"append-icon":"mdi-calendar",readonly:""},on:{"click:clear":e.dobTextCleared}},"v-text-field",r,!1),s))]}}],null,!1,855144364),model:{value:e.dateOfBirthMenu,callback:function(t){e.dateOfBirthMenu=t},expression:"dateOfBirthMenu"}},[a("v-date-picker",{attrs:{max:e.maxDob,"no-title":"",scrollable:"",reactive:!0},model:{value:e.editModeMemberData.dateOfBirth,callback:function(t){e.$set(e.editModeMemberData,"dateOfBirth",t)},expression:"editModeMemberData.dateOfBirth"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dateOfBirthMenu=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dateOfBirthMenuRef.save(e.editModeMemberData.dateOfBirth)}}},[e._v(" OK ")])],1)],1)],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Age ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"###",expression:"'###'"}],staticClass:"py-0 my-0",attrs:{rules:[function(e){return!(e&&e.toString().trim().length>3)||"Enter a valid age"}]},on:{keyup:e.ageKeyUp},model:{value:e.editModeMemberData.age,callback:function(t){e.$set(e.editModeMemberData,"age",t)},expression:"editModeMemberData.age"}})],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Phone ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"P############",expression:"'P############'"}],staticClass:"py-0 my-0 member-phone",attrs:{dense:"",label:""},model:{value:e.editModeMemberData.phone,callback:function(t){e.$set(e.editModeMemberData,"phone",t)},expression:"editModeMemberData.phone"}})],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Phone 2 ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:"P############",expression:"'P############'"}],staticClass:"py-0 my-0 member-phone",attrs:{dense:"",label:""},model:{value:e.editModeMemberData.phone2,callback:function(t){e.$set(e.editModeMemberData,"phone2",t)},expression:"editModeMemberData.phone2"}})],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Gaurdian Name ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-text-field",{staticClass:"py-0 my-0",attrs:{rules:[function(e){return!e||!e.trim().length||e.trim().length<50||"Required (Max: 50 chars)"}],dense:"",label:""},model:{value:e.editModeMemberData.gaurdian,callback:function(t){e.$set(e.editModeMemberData,"gaurdian",t)},expression:"editModeMemberData.gaurdian"}})],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Job ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-text-field",{staticClass:"py-0 my-0",attrs:{rules:[function(e){return!e||!e.trim().length||e.trim().length<60||"Required (Max: 60 chars)"}],dense:"",label:""},model:{value:e.editModeMemberData.job,callback:function(t){e.$set(e.editModeMemberData,"job",t)},expression:"editModeMemberData.job"}})],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Email ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-text-field",{staticClass:"py-0 my-0",attrs:{dense:"",rules:[function(t){return!(!(t&&t.trim().length<200&&e.validateEmail(t))&&t&&t.trim().length)||"Invalid email"}]},model:{value:e.editModeMemberData.email,callback:function(t){e.$set(e.editModeMemberData,"email",t)},expression:"editModeMemberData.email"}})],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Blood Type ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-select",{attrs:{items:e.bloodTypes,dense:"",clearable:""},model:{value:e.editModeMemberData.bloodType,callback:function(t){e.$set(e.editModeMemberData,"bloodType",t)},expression:"editModeMemberData.bloodType"}})],1)],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Active ")]),a("v-card-title",{staticClass:"pt-2"},[a("v-btn-toggle",{attrs:{mandatory:"",tile:""},model:{value:e.editModeMemberData.active,callback:function(t){e.$set(e.editModeMemberData,"active",t)},expression:"editModeMemberData.active"}},[a("v-btn",{attrs:{small:"",color:e.editModeMemberData.active?"normal":"error"}}),a("v-btn",{attrs:{small:"",color:e.editModeMemberData.active?"success":"normal"}},[a("v-icon",[e._v("mdi-check-bold")])],1)],1)],1)],1),e.editModeMemberData.active?e._e():a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Date Removed ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-menu",{ref:"dateRemovedMenuRef",attrs:{"close-on-content-click":!1,"return-value":e.editModeMemberData.dateRemoved,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.editModeMemberData,"dateRemoved",t)},"update:return-value":function(t){return e.$set(e.editModeMemberData,"dateRemoved",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({staticClass:"py-0 my-0",attrs:{value:e.formatDate(e.editModeMemberData.dateRemoved),"append-icon":"mdi-calendar",readonly:""}},"v-text-field",r,!1),s))]}}],null,!1,440022669),model:{value:e.dateRemovedMenu,callback:function(t){e.dateRemovedMenu=t},expression:"dateRemovedMenu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.editModeMemberData.dateRemoved,callback:function(t){e.$set(e.editModeMemberData,"dateRemoved",t)},expression:"editModeMemberData.dateRemoved"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dateRemovedMenu=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dateRemovedMenuRef.save(null)}}},[e._v(" Clear ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dateRemovedMenuRef.save(e.editModeMemberData.dateRemoved)}}},[e._v(" OK ")])],1)],1)],1)],1),e.editModeMemberData.active?e._e():a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Removed Reason ")]),a("v-card-title",{staticClass:"pt-0"},[a("v-text-field",{staticClass:"py-0 my-0",attrs:{rules:[function(e){return!(e&&e.length&&e.length>60)||"Max: 60 chars"}]},model:{value:e.editModeMemberData.removedReason,callback:function(t){e.$set(e.editModeMemberData,"removedReason",t)},expression:"editModeMemberData.removedReason"}})],1)],1)],1)],1)],1)],1):a("div",{staticClass:"py-5"},[a("v-card",{staticClass:"pa-4",attrs:{tile:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"12"}},[a("v-card-text",{staticClass:"pb-0 text-right"},[e.memberData.active?e._e():a("span",{staticClass:"not-assigned red--text pt-1",staticStyle:{"vertical-align":"middle"}},[e._v("Removed")]),a("v-btn",{staticClass:"primary ml-2 mb-2",attrs:{"x-small":"",tile:""},on:{click:e.gotoNewMemberPage}},[e._v("Add new member")]),a("v-btn",{staticClass:"primary ml-2 mb-2",attrs:{"x-small":"",tile:""},on:{click:e.showFeeWindow}},[e._v("Fee and Membership")]),a("v-btn",{staticClass:"primary ml-2 mb-2",attrs:{"x-small":"",tile:""},on:{click:function(t){e.showPhotoWindow=!0}}},[e._v("Photo and Signature")]),a("v-btn",{staticClass:"primary ml-2 mb-2",attrs:{"x-small":"",tile:""},on:{click:function(t){e.isEditMode=!0}}},[e._v("Edit")])],1)],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Member Number ")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" # "+e._s(e.memberData.memberNumber)+" ")])],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Membership class ")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e.memberData.membershipPlan.name)+" ")])],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Name ")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e.memberData.name)+" ")])],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Gender ")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e.genderLabels[e.memberData.gender])+" ")])],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Date of Join ")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e._f("formatDate")(e.memberData.dateOfJoin))+" ")])],1),a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Address ")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e.memberData.address)+" ")])],1),e.memberData.dateOfBirth?a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Date of Birth ")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e._f("formatDate")(e.memberData.dateOfBirth))+" ")])],1):e._e(),e.memberData.dateOfBirth?a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Age ")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e.calculateAge(e.memberData.dateOfBirth))+" ")])],1):e._e(),e.memberData.phone&&e.memberData.phone.length?a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Phone ")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e.memberData.phone)+" ")])],1):e._e(),e.memberData.phone2&&e.memberData.phone2.length?a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Phone 2")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e.memberData.phone2)+" ")])],1):e._e(),e.memberData.gaurdian&&e.memberData.gaurdian.length?a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Gaurdian Name")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e.memberData.gaurdian)+" ")])],1):e._e(),e.memberData.job&&e.memberData.job.length?a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Job ")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e.memberData.job)+" ")])],1):e._e(),e.memberData.email&&e.memberData.email.length?a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Email")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e.memberData.email)+" ")])],1):e._e(),e.memberData.bloodType&&e.memberData.bloodType.length?a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v("Blood Type")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e.memberData.bloodType)+" ")])],1):e._e(),!e.memberData.active&&e.memberData.dateRemoved?a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Date Removed ")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e._f("formatDate")(e.memberData.dateRemoved))+" ")])],1):e._e(),!e.memberData.active&&e.memberData.removedReason?a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-card-text",{staticClass:"pb-0"},[e._v(" Removed Reason ")]),a("v-card-title",{staticClass:"pt-0"},[e._v(" "+e._s(e.memberData.removedReason)+" ")])],1):e._e()],1)],1)],1)])])],1)]),a("MemberFeeWindow"),a("MemberPhotoAndSignature",{attrs:{member:e.memberData},model:{value:e.showPhotoWindow,callback:function(t){e.showPhotoWindow=t},expression:"showPhotoWindow"}})],1)},r=[],i=a("6211"),l=a("97e4"),o=a("dada"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"700",value:e.value},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"default",fn:function(t){return[a("v-card",[a("v-toolbar",{staticClass:"primary",attrs:{dark:""}},[e._v(" Photo and signature of "+e._s(e.member.name))]),a("v-row",{staticClass:"mx-0 px-4 py-0",staticStyle:{"max-height":"400px","overflow-y":"auto"}},[a("v-col",{staticClass:"text-center",staticStyle:{"overflow-x":"hidden"},attrs:{cols:"12",sm:"12",xl:"6",lg:"6",md:"6"}},[a("v-card-text",[e._v("Photo")]),a("div",{staticClass:"member-img-wrapper"},[e.member.hasPhoto?a("img",{attrs:{height:"200",src:e.member.photo}}):a("v-icon",{attrs:{size:"200"}},[e._v("mdi-account")])],1),a("div",{staticClass:"member-img-changer mt-3"},[a("v-file-input",{ref:"photoFileInput",staticClass:"d-none",attrs:{accept:"image/*",label:"File input",clearable:""},on:{change:e.photoAdded}}),a("v-btn",{staticClass:"primary mx-1",attrs:{tile:"","x-small":""},on:{click:e.photoSelect}},[e._v(e._s(e.member.hasPhoto?"Change Photo":"Add Photo"))]),e.member.hasPhoto?a("v-btn",{staticClass:"primary mx-1",attrs:{tile:"","x-small":""},on:{click:e.deletePhoto}},[e._v("Delete Photo")]):e._e()],1)],1),a("v-col",{staticClass:"text-center",staticStyle:{"overflow-x":"hidden"},attrs:{cols:"12",sm:"12",xl:"6",lg:"6",md:"6"}},[a("v-card-text",[e._v("Signature")]),a("div",{staticClass:"member-img-wrapper"},[e.member.hasSignature?a("img",{attrs:{width:"150",src:e.member.signature}}):a("v-icon",{attrs:{size:"150"}},[e._v("mdi-image")])],1),a("div",{staticClass:"member-img-changer mt-3"},[a("v-file-input",{ref:"signatureFileInput",staticClass:"d-none",attrs:{accept:"image/*",label:"File input",clearable:""},on:{change:e.signatureAdded}}),a("v-btn",{staticClass:"primary mx-1",attrs:{tile:"","x-small":""},on:{click:e.signatureSelect}},[e._v(e._s(e.member.hasSignature?"Change Signature":"Add Signature"))]),e.member.hasSignature?a("v-btn",{staticClass:"primary mx-1",attrs:{tile:"","x-small":""},on:{click:e.deleteSignature}},[e._v("Delete Signature")]):e._e()],1)],1)],1),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("Close")])],1)],1),a("CropperDialog",{attrs:{src:e.cropperSrc,onSubmit:e.onSubmit,aspectRatio:e.aspectRatio,submitText:"Save"},model:{value:e.cropperDialogShown,callback:function(t){e.cropperDialogShown=t},expression:"cropperDialogShown"}})]}}])})},c=[],d=(a("99af"),a("d3b7"),a("5530")),m=a("a6f4"),v=a("284f"),p=a("ce96"),b=a("bc3a"),u=a.n(b),h=a("4360"),f=Object(m["e"])({cropperDialogShown:!1,cropperSrc:"",onSubmit:function(){},aspectRatio:1}),C=function(e,t,a){var s=""!==e;h["a"].app.showLoader("".concat(s?"Updating":"Deleting"," member ").concat(a)),u.a.patch("".concat("https://knmuifdc58.execute-api.ap-south-1.amazonaws.com/staging/auth","/member/").concat(t,"/").concat(a),{imageData:e}).then((function(e){e.data.url&&(h["a"].singleMember.state.memberData[a]=e.data.url),h["a"].singleMember.state.memberData["has"+p["a"].string.pascalCase(a)]=s,h["a"].app.showAlert("".concat(s?"Updated":"Deleted"," member ").concat(a)),f.cropperDialogShown=!1,h["a"].members.state.loadedAll=!1,h["a"].members.state.data=[]})).catch((function(){h["a"].app.showAlert("Some error occured!")})).finally((function(){return h["a"].app.hideLoader()}))},x={props:{value:{type:Boolean},member:{type:Object}},components:{CropperDialog:v["a"]},setup:function(e){var t=Object(m["f"])(null),a=Object(m["f"])(null);return Object(d["a"])(Object(d["a"])({},Object(m["g"])(f)),{},{photoFileInput:t,signatureFileInput:a,photoSelect:function(){t.value.$el.querySelector("input").click()},signatureSelect:function(){a.value.$el.querySelector("input").click()},deletePhoto:function(){return C("",e.member._id,"photo")},deleteSignature:function(){return C("",e.member._id,"signature")},photoAdded:function(a){t.value.$el.querySelector("input").value=null,p["a"].getBase64FromFile(a,(function(t){f.cropperDialogShown=!0,f.cropperSrc=t,f.aspectRatio=35/45,f.onSubmit=function(t){return C(t,e.member._id,"photo")}}))},signatureAdded:function(t){a.value.$el.querySelector("input").value=null,p["a"].getBase64FromFile(t,(function(t){f.cropperDialogShown=!0,f.cropperSrc=t,f.aspectRatio=2,f.onSubmit=function(t){return C(t,e.member._id,"signature")}}))}})}},g=x,_=a("2877"),M=a("6544"),D=a.n(M),y=a("8336"),k=a("b0af"),w=a("99d9"),P=a("62ad"),S=a("169a"),O=a("23a7"),R=a("132d"),V=a("0fd9"),F=a("71d9"),B=Object(_["a"])(g,n,c,!1,null,null,null),$=B.exports;D()(B,{VBtn:y["a"],VCard:k["a"],VCardActions:w["a"],VCardText:w["b"],VCol:P["a"],VDialog:S["a"],VFileInput:O["a"],VIcon:R["a"],VRow:V["a"],VToolbar:F["a"]});var A={setup:i["s"],components:{SingleBookSkeltonLoader:l["a"],MemberFeeWindow:o["a"],MemberPhotoAndSignature:$}},T=A,j=a("a609"),J=a("a523"),N=a("2e4b"),W=a("4bd4"),U=a("e449"),Y=a("b974"),E=a("2fa4"),L=a("8654"),q=a("a844"),I=Object(_["a"])(T,s,r,!1,null,null,null);t["default"]=I.exports;D()(I,{VBtn:y["a"],VBtnToggle:j["a"],VCard:k["a"],VCardText:w["b"],VCardTitle:w["c"],VCol:P["a"],VContainer:J["a"],VDatePicker:N["a"],VForm:W["a"],VIcon:R["a"],VMenu:U["a"],VRow:V["a"],VSelect:Y["a"],VSpacer:E["a"],VTextField:L["a"],VTextarea:q["a"]})},"7e58":function(e,t,a){},"97e4":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("smooth-scrollbar",[a("v-progress-linear",{attrs:{indeterminate:""}}),a("v-card",{staticClass:"pa-4",attrs:{tile:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"px-2",attrs:{cols:"12",sm:"12"}},[a("v-card-text",{staticClass:"pb-0"},[a("v-skeleton-loader",{staticClass:"float-right single-book-loader-button",attrs:{type:"heading",width:"50px",tile:""}}),a("v-skeleton-loader",{staticClass:"float-right single-book-loader-button mr-2",attrs:{type:"heading",width:"100px",tile:""}})],1)],1)],1),a("v-row",{attrs:{"no-gutters":""}},e._l(8,(function(e){return a("v-col",{key:e,staticClass:"px-2",attrs:{cols:"12",sm:"6"}},[a("v-skeleton-loader",{staticClass:"single-book-loader-button px-4 pt-5 mb-1",attrs:{type:"heading","max-width":"200",height:"40",width:"100%",tile:""}}),a("v-skeleton-loader",{staticClass:"single-book-loader-button px-4 pb-5",attrs:{type:"heading","max-width":"150",width:"100%",tile:""}})],1)})),1)],1)],1)},r=[],i=a("2877"),l=a("6544"),o=a.n(l),n=a("b0af"),c=a("99d9"),d=a("62ad"),m=a("8e36"),v=a("0fd9"),p=a("3129"),b={},u=Object(i["a"])(b,s,r,!1,null,null,null);t["a"]=u.exports;o()(u,{VCard:n["a"],VCardText:c["b"],VCol:d["a"],VProgressLinear:m["a"],VRow:v["a"],VSkeletonLoader:p["a"]})},a609:function(e,t,a){"use strict";var s=a("5530"),r=(a("7e58"),a("3860")),i=a("a9ad"),l=a("58df");t["a"]=Object(l["a"])(r["a"],i["a"]).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes:function(){return Object(s["a"])(Object(s["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile},this.themeClasses)}},methods:{genData:function(){var e=this.setTextColor(this.color,Object(s["a"])({},r["a"].options.methods.genData.call(this)));return this.group?e:this.setBackgroundColor(this.backgroundColor,e)}}})},dada:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{"max-width":"900"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("v-card",{staticClass:"membership-fee-window",attrs:{tile:""}},[a("v-toolbar",{attrs:{color:"primary",dark:""}},[e.member?a("span",[e._v("Fee report of "+e._s(e.member.name))]):e._e()]),a("v-card-text",[e.member?a("div",{staticClass:"pt-4"},[a("v-row",{staticClass:"px-1",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"px-0",attrs:{cols:"12",sm:"2"}},[a("v-select",{attrs:{items:e.years,label:"Select year"},model:{value:e.selectedYear,callback:function(t){e.selectedYear=t},expression:"selectedYear"}})],1),a("v-col",{staticClass:"p-0 pr-0 pt-2 pb-4 text-right membership-button-wrap",attrs:{cols:"12",sm:"10"}},[e._v(" Membership class: "+e._s(e.member.membershipPlan.name)+", membership class fee ₹"+e._s(e.member.membershipPlan.amount)+" "+e._s(e.member.isMemberShipPlanFeesPaid?"paid":"not paid")+" "),a("v-btn",{staticClass:"primary ml-3",attrs:{"x-small":"",tile:""},on:{click:function(t){e.showPlanWindow=!0}}},[e._v("Membership Fee")])],1)],1),e.isLoading?a("v-row",{staticClass:"fee-months-parent",attrs:{"no-gutters":""}},e._l(12,(function(t,s){return a("v-col",{key:s,staticClass:"fee-month text-center px-1 pt-0 py-2",attrs:{sm:"3",xs:"3",md:"3",lg:"2",cols:"12"}},[a("v-card",{class:["each-month-box d-flex align-center"],attrs:{"min-height":"75",loading:!0}},[a("div",{staticStyle:{width:"100%"}},[a("div",{staticClass:"fee-month"},[e._v(e._s(e.monthName(t)))])])])],1)})),1):a("v-row",{staticClass:"fee-months-parent",attrs:{"no-gutters":""}},e._l(12,(function(t,s){return a("v-col",{key:s,staticClass:"fee-month text-center px-1",attrs:{sm:"3",xs:"3",md:"3",lg:"2",cols:"12"}},[a("v-card",{class:[e.feeDataComputed[s]?"paid":"",e.isPending(e.selectedYear,s)&&0===e.member.membershipPlan.monthlyAmount?"paid":"",!e.feeDataComputed[s]&&!1!==e.feeDataComputed[s]&&e.isPending(e.selectedYear,s)&&0!==e.member.membershipPlan.monthlyAmount?"pending":"",e.feeDataComputed[s]&&e.isAdvance(e.selectedYear,s)?"advance":"","px-1 mb-2 each-month-box d-flex align-center"],attrs:{disabled:e.isBeforeJoin(e.selectedYear,s),"min-height":"75"}},[a("div",{staticStyle:{width:"100%"}},[!1!==e.feeDataComputed[s]&&e.feeDataComputed[s]&&0!=e.member.membershipPlan.monthlyAmount?a("v-btn",{staticClass:"fee-check-button p-0",attrs:{small:""},on:{click:function(t){return e.showDeleteFeeDialog(e.selectedYear,s)}}},[a("v-icon",{attrs:{color:"white"}},[e._v("mdi-delete")])],1):e._e(),!1===e.feeDataComputed[s]||e.feeDataComputed[s]||e.isBeforeJoin(e.selectedYear,s)||0==e.member.membershipPlan.monthlyAmount?e._e():a("v-btn",{staticClass:"fee-check-button p-0",attrs:{small:""},on:{click:function(t){return e.showPayUpToFeeDialog(e.selectedYear,s)}}},[a("v-icon",{attrs:{color:"success"}},[e._v("mdi-cash-check")])],1),a("div",{staticClass:"fee-month"},[e._v(e._s(e.monthName(t)))]),e.feeDataComputed[s]?a("div",{staticClass:"fee-paid-on force-single-line"},[e._v(" Paid on "+e._s(e._f("formatDate")(e.feeDataComputed[s].createdAt))+" ")]):e._e(),!1===e.feeDataComputed[s]||e.feeDataComputed[s]||e.isBeforeJoin(e.selectedYear,s)?e._e():a("div",{staticClass:"fee-paid-on force-single-line"},[0!==e.member.membershipPlan.monthlyAmount?a("span",[e._v(" ₹"+e._s(e.feeToSettleUptoMonth(e.selectedYear,s))+" ")]):a("span",[e._v(" Free ")])])],1)])],1)})),1)],1):e._e()]),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("Close")])],1)],1)]}}]),model:{value:e.showWindow,callback:function(t){e.showWindow=t},expression:"showWindow"}}),a("v-dialog",{attrs:{width:"500"},model:{value:e.deleteFeeDialog,callback:function(t){e.deleteFeeDialog=t},expression:"deleteFeeDialog"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{color:"warning",dark:""}},[e._v(" Are you sure? ")]),a("v-card-text",{staticClass:"py-2"},[e._v(" This action will remove monthly fee saved for this month and also for the upcoming months. ")]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",tile:""},on:{click:function(t){e.deleteFeeDialog=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",tile:"",text:""},on:{click:function(t){return e.deleteFee()}}},[e._v(" Confirm ")])],1)],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:e.payUptoFeeDialog,callback:function(t){e.payUptoFeeDialog=t},expression:"payUptoFeeDialog"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{color:"warning",dark:""}},[e._v(" Are you sure? ")]),e.payUptoFeeDialog?a("v-card-text",{staticClass:"py-5"},[e._v(" Are you sure that this member paid ₹"+e._s(e.feeToSettleUptoMonth(e.selectedYear,e.payUptoFeeDate.getMonth()))+" and settled monthly fees upto "+e._s(e.monthName(e.payUptoFeeDate.getMonth()))+", "+e._s(e.selectedYear)+" ")]):e._e(),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",tile:""},on:{click:function(t){e.payUptoFeeDialog=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",tile:"",text:""},on:{click:function(t){return e.payUpToFee()}}},[e._v(" Confirm ")])],1)],1)],1),a("v-dialog",{attrs:{width:"700"},model:{value:e.showPlanWindow,callback:function(t){e.showPlanWindow=t},expression:"showPlanWindow"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{color:"primary",dark:""}},[e.member?a("span",[e._v("Membership class of "+e._s(e.member.name))]):e._e()]),e.showPlanWindow?a("v-card-text",{staticClass:"pb-4 pt-7"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"px-2 pr-3 mt-3",attrs:{cols:"12",sm:"6"}},[a("v-select",{staticClass:"py-0 my-0",attrs:{loading:e.membershipPlansLoading,disabled:e.membershipPlansLoading,label:"Membership class",items:e.membershipPlans,"item-text":"name","item-value":"_id","menu-props":"auto","hide-details":""},on:{change:e.membershipChange},model:{value:e.membershipPlan,callback:function(t){e.membershipPlan=t},expression:"membershipPlan"}})],1),a("v-col",{staticClass:"px-2 pl-3 text-right",attrs:{cols:"12",sm:"6"}},[a("v-checkbox",{attrs:{label:"Membership fee "+(e.planFeePaid?"paid.":"not paid.")},on:{change:e.isPaidChange},model:{value:e.planFeePaid,callback:function(t){e.planFeePaid=t},expression:"planFeePaid"}})],1)],1)],1):e._e(),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",tile:""},on:{click:function(t){e.showPlanWindow=!1}}},[e._v(" Ok ")])],1)],1)],1),a("v-dialog",{attrs:{width:"600"},model:{value:e.showConfirmMembershipFee,callback:function(t){e.showConfirmMembershipFee=t},expression:"showConfirmMembershipFee"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{color:"warning",dark:""}},[e.member?a("span",[e._v("Are you sure?")]):e._e()]),e.showConfirmMembershipFee?a("v-card-text",{staticClass:"pb-4 pt-7"},[e.planFeePaid?a("span",[e._v(" Are you sure this member paid membership fee of ₹"+e._s(e.member.membershipPlan.amount)+", this will save as member payed membership fee today. ")]):a("span",[e._v(" This action will save this member as not payed membership fee and the membership fee of ₹"+e._s(e.member.membershipPlan.amount)+" will be added to this members dues. ")])]):e._e(),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",tile:""},on:{click:e.confirmMembershipFeeChange}},[e._v(" Yes ")]),a("v-btn",{attrs:{color:"primary",text:"",tile:""},on:{click:e.cancelMembershipFeeChange}},[e._v(" Cancel ")])],1)],1)],1)],1)},r=[],i=a("6211"),l={setup:i["k"]},o=l,n=a("2877"),c=a("6544"),d=a.n(c),m=a("8336"),v=a("b0af"),p=a("99d9"),b=a("ac7c"),u=a("62ad"),h=a("169a"),f=a("ce7e"),C=a("132d"),x=a("0fd9"),g=a("b974"),_=a("2fa4"),M=a("71d9"),D=Object(n["a"])(o,s,r,!1,null,null,null);t["a"]=D.exports;d()(D,{VBtn:m["a"],VCard:v["a"],VCardActions:p["a"],VCardText:p["b"],VCheckbox:b["a"],VCol:u["a"],VDialog:h["a"],VDivider:f["a"],VIcon:C["a"],VRow:x["a"],VSelect:g["a"],VSpacer:_["a"],VToolbar:M["a"]})}}]);
//# sourceMappingURL=singleMember.bf4a145a.js.map